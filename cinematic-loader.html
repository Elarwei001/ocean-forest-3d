<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”µå½±çº§æµ·æ´‹æ£®æ— - Cinematic Ocean Forest</title>
    <style>
        body {
            margin: 0;
            padding: 20px;
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #001122, #003366);
            color: white;
            min-height: 100vh;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.8;
        }
        
        .system-status {
            background: rgba(255,255,255,0.1);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .system-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }
        
        .system-item:last-child {
            border-bottom: none;
        }
        
        .status {
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }
        
        .status.available {
            background: #4CAF50;
            color: white;
        }
        
        .status.loading {
            background: #FF9800;
            color: white;
        }
        
        .status.error {
            background: #f44336;
            color: white;
        }
        
        .controls {
            background: rgba(255,255,255,0.05);
            border-radius: 10px;
            padding: 20px;
            margin-bottom: 30px;
        }
        
        .control-group {
            margin-bottom: 20px;
        }
        
        .control-group h3 {
            margin-bottom: 10px;
            color: #87CEEB;
        }
        
        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        .btn {
            background: linear-gradient(135deg, #4FC3F7, #29B6F6);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 0.9em;
            font-weight: bold;
            transition: all 0.3s ease;
        }
        
        .btn:hover {
            background: linear-gradient(135deg, #29B6F6, #0288D1);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        
        .btn:disabled {
            background: #666;
            cursor: not-allowed;
            transform: none;
        }
        
        .info-section {
            background: rgba(135, 206, 235, 0.1);
            border-left: 4px solid #87CEEB;
            padding: 15px 20px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        
        .console-output {
            background: #000;
            color: #0f0;
            font-family: 'Courier New', monospace;
            padding: 15px;
            border-radius: 5px;
            height: 200px;
            overflow-y: auto;
            font-size: 0.8em;
            margin-top: 20px;
        }
        
        .footer {
            text-align: center;
            margin-top: 40px;
            opacity: 0.7;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¬ ç”µå½±çº§æµ·æ´‹æ£®æ—</h1>
            <p>Cinematic Ocean Forest - é«˜çº§è§†è§‰æ•ˆæœæ§åˆ¶é¢æ¿</p>
        </div>
        
        <div class="info-section">
            <h3>ğŸ“‹ ä½¿ç”¨è¯´æ˜</h3>
            <p><strong>é‡è¦ï¼š</strong>æ­¤é¡µé¢æ˜¯ç‹¬ç«‹çš„æ§åˆ¶é¢æ¿ã€‚è¦ä½¿ç”¨ç”µå½±çº§æ•ˆæœï¼Œè¯·æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p>
            <ol>
                <li>åœ¨ä¸»æµ·æ´‹æ£®æ—é¡µé¢(index.html)ä¸­æ·»åŠ è„šæœ¬æ ‡ç­¾</li>
                <li>é‡æ–°åŠ è½½ä¸»é¡µé¢</li>
                <li>åœ¨ä¸»é¡µé¢çš„æµè§ˆå™¨æ§åˆ¶å°ä¸­ä½¿ç”¨æ§åˆ¶å‘½ä»¤</li>
            </ol>
            <p>æ­¤é¡µé¢ä¸»è¦ç”¨äºæŸ¥çœ‹åŠ è½½è¯´æ˜å’Œæ§åˆ¶å‘½ä»¤å‚è€ƒã€‚</p>
        </div>
        
        <div class="system-status">
            <h3>ğŸ”§ ç³»ç»ŸçŠ¶æ€</h3>
            <div class="system-item">
                <span>åŸºç¡€æµ·æ´‹æ£®æ—ç³»ç»Ÿ</span>
                <span class="status loading" id="status-base">æ£€æŸ¥ä¸­...</span>
            </div>
            <div class="system-item">
                <span>ç”µå½±çº§åŠ¨ç”»ç³»ç»Ÿ</span>
                <span class="status loading" id="status-cinematic">æ£€æŸ¥ä¸­...</span>
            </div>
            <div class="system-item">
                <span>é«˜çº§ç²’å­ç³»ç»Ÿ</span>
                <span class="status loading" id="status-particles">æ£€æŸ¥ä¸­...</span>
            </div>
            <div class="system-item">
                <span>æµ·æ´‹ç”Ÿç‰©AIè¡Œä¸º</span>
                <span class="status loading" id="status-behavior">æ£€æŸ¥ä¸­...</span>
            </div>
            <div class="system-item">
                <span>ç”µå½±çº§æ‘„åƒæœº</span>
                <span class="status loading" id="status-camera">æ£€æŸ¥ä¸­...</span>
            </div>
        </div>
        
        <div class="controls">
            <div class="control-group">
                <h3>ğŸ¨ æè´¨æ•ˆæœ</h3>
                <div class="button-group">
                    <button class="btn" onclick="loadCinematicSystems()">åŠ è½½ç”µå½±çº§ç³»ç»Ÿ</button>
                    <button class="btn" onclick="enablePhysicalMaterials()">å¯ç”¨ç‰©ç†æè´¨</button>
                    <button class="btn" onclick="resetMaterials()">é‡ç½®åˆ°åŸºç¡€æè´¨</button>
                </div>
            </div>
            
            <div class="control-group">
                <h3>âœ¨ ç²’å­æ•ˆæœ</h3>
                <div class="button-group">
                    <button class="btn" onclick="toggleBubbles()">æ°”æ³¡æ•ˆæœ</button>
                    <button class="btn" onclick="togglePlankton()">ç”Ÿç‰©å‘å…‰</button>
                    <button class="btn" onclick="toggleMarineSnow()">æµ·æ´‹é›ªèŠ±</button>
                    <button class="btn" onclick="adjustParticleDensity(0.5)">å‡å°‘ç²’å­</button>
                    <button class="btn" onclick="adjustParticleDensity(2.0)">å¢å¼ºç²’å­</button>
                </div>
            </div>
            
            <div class="control-group">
                <h3>ğŸ“¹ æ‘„åƒæœºæ¨¡å¼</h3>
                <div class="button-group">
                    <button class="btn" onclick="setCameraMode('follow')">è·Ÿéšæ¨¡å¼</button>
                    <button class="btn" onclick="setCameraMode('cinematic')">ç”µå½±æ¨¡å¼</button>
                    <button class="btn" onclick="setCameraMode('orbit')">ç¯ç»•æ¨¡å¼</button>
                    <button class="btn" onclick="setCameraMode('documentary')">çºªå½•ç‰‡æ¨¡å¼</button>
                    <button class="btn" onclick="enableCameraShake(0.1)">è½»å¾®éœ‡åŠ¨</button>
                </div>
            </div>
            
            <div class="control-group">
                <h3>ğŸ  ç”Ÿç‰©è¡Œä¸º</h3>
                <div class="button-group">
                    <button class="btn" onclick="enableSchooling()">å¯ç”¨é±¼ç¾¤è¡Œä¸º</button>
                    <button class="btn" onclick="enableHunting()">å¯ç”¨ç‹©çŒè¡Œä¸º</button>
                    <button class="btn" onclick="resetBehaviors()">é‡ç½®è¡Œä¸º</button>
                </div>
            </div>
        </div>
        
        <div class="console-output" id="console">
            <div>ğŸŒŠ ç”µå½±çº§æµ·æ´‹æ£®æ—æ§åˆ¶å°</div>
            <div>ç­‰å¾…ç³»ç»ŸçŠ¶æ€æ£€æŸ¥...</div>
        </div>
        
        <div class="footer">
            <p>ğŸ¬ Powered by Claude & Three.js | æµ·æ´‹æ£®æ—ç”µå½±çº§åŠ¨ç”»ç³»ç»Ÿ</p>
        </div>
    </div>

    <script>
        // æ§åˆ¶å°è¾“å‡ºå‡½æ•°
        function logToConsole(message, type = 'info') {
            const console = document.getElementById('console');
            const timestamp = new Date().toLocaleTimeString();
            const colors = {
                info: '#0f0',
                warn: '#ff0',
                error: '#f00',
                success: '#0f0'
            };
            
            const div = document.createElement('div');
            div.style.color = colors[type] || '#0f0';
            div.textContent = `[${timestamp}] ${message}`;
            console.appendChild(div);
            console.scrollTop = console.scrollHeight;
        }
        
        // æ£€æŸ¥ç³»ç»ŸçŠ¶æ€
        function checkSystemStatus() {
            logToConsole('æ£€æŸ¥å½“å‰é¡µé¢çš„ç³»ç»ŸçŠ¶æ€...');
            
            // æ£€æŸ¥åŸºç¡€ç³»ç»Ÿ
            if (window.oceanForest) {
                document.getElementById('status-base').textContent = 'âœ… å·²åŠ è½½';
                document.getElementById('status-base').className = 'status available';
                logToConsole('åŸºç¡€æµ·æ´‹æ£®æ—ç³»ç»Ÿ: âœ… å·²åŠ è½½', 'success');
            } else {
                document.getElementById('status-base').textContent = 'âš ï¸ æ§åˆ¶é¢æ¿é¡µé¢';
                document.getElementById('status-base').className = 'status loading';
                logToConsole('æ­¤é¡µé¢æ˜¯æ§åˆ¶é¢æ¿ï¼Œè¯·åœ¨ä¸»é¡µé¢ä¸­åŠ è½½ç³»ç»Ÿ', 'warn');
            }
            
            // æ£€æŸ¥ç”µå½±çº§ç³»ç»Ÿ
            const systems = [
                { key: 'cinematicAnimation', id: 'status-cinematic', name: 'ç”µå½±çº§åŠ¨ç”»ç³»ç»Ÿ' },
                { key: 'advancedParticles', id: 'status-particles', name: 'é«˜çº§ç²’å­ç³»ç»Ÿ' },
                { key: 'marineLifeBehavior', id: 'status-behavior', name: 'æµ·æ´‹ç”Ÿç‰©AIè¡Œä¸º' },
                { key: 'cinematicCamera', id: 'status-camera', name: 'ç”µå½±çº§æ‘„åƒæœº' }
            ];
            
            systems.forEach(system => {
                if (window.oceanForest && window.oceanForest[system.key]) {
                    document.getElementById(system.id).textContent = 'âœ… å·²å¯ç”¨';
                    document.getElementById(system.id).className = 'status available';
                    logToConsole(`${system.name}: âœ… å·²å¯ç”¨`, 'success');
                } else if (window.moduleManager && window.moduleManager.getModule(system.key)) {
                    document.getElementById(system.id).textContent = 'âš¡ å¯å¯ç”¨';
                    document.getElementById(system.id).className = 'status loading';
                    logToConsole(`${system.name}: âš¡ æ¨¡å—å·²åŠ è½½ï¼Œç­‰å¾…åˆå§‹åŒ–`, 'warn');
                } else {
                    document.getElementById(system.id).textContent = 'âŒ ä¸å¯ç”¨';
                    document.getElementById(system.id).className = 'status error';
                    logToConsole(`${system.name}: âŒ æ¨¡å—æœªåŠ è½½`, 'error');
                }
            });
        }
        
        // åŠ è½½ç”µå½±çº§ç³»ç»Ÿ
        function loadCinematicSystems() {
            logToConsole('æ­£åœ¨åŠ è½½ç”µå½±çº§ç³»ç»Ÿ...', 'info');
            
            if (!window.oceanForest) {
                logToConsole('é”™è¯¯: è¯·å…ˆåŠ è½½ä¸»æµ·æ´‹æ£®æ—ç³»ç»Ÿ', 'error');
                return;
            }
            
            try {
                // æ‰‹åŠ¨åˆå§‹åŒ–ç³»ç»Ÿ
                if (window.oceanForest.initOptionalSystems) {
                    window.oceanForest.initOptionalSystems();
                    logToConsole('ç”µå½±çº§ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆ', 'success');
                } else {
                    logToConsole('è­¦å‘Š: initOptionalSystems æ–¹æ³•ä¸å­˜åœ¨', 'warn');
                }
                
                // é‡æ–°æ£€æŸ¥çŠ¶æ€
                setTimeout(checkSystemStatus, 1000);
                
            } catch (error) {
                logToConsole(`åŠ è½½å¤±è´¥: ${error.message}`, 'error');
            }
        }
        
        // æ‘„åƒæœºæ¨¡å¼æ§åˆ¶
        function setCameraMode(mode) {
            if (window.oceanForest && window.oceanForest.cinematicCamera) {
                try {
                    window.oceanForest.cinematicCamera.setMode(mode);
                    logToConsole(`æ‘„åƒæœºæ¨¡å¼åˆ‡æ¢åˆ°: ${mode}`, 'success');
                } catch (error) {
                    logToConsole(`æ‘„åƒæœºæ¨¡å¼åˆ‡æ¢å¤±è´¥: ${error.message}`, 'error');
                }
            } else {
                logToConsole('ç”µå½±çº§æ‘„åƒæœºç³»ç»Ÿæœªå¯ç”¨', 'warn');
            }
        }
        
        // æ‘„åƒæœºéœ‡åŠ¨
        function enableCameraShake(intensity) {
            if (window.oceanForest && window.oceanForest.cinematicCamera) {
                try {
                    window.oceanForest.cinematicCamera.enableShake(intensity);
                    logToConsole(`æ‘„åƒæœºéœ‡åŠ¨å·²å¯ç”¨ï¼Œå¼ºåº¦: ${intensity}`, 'success');
                } catch (error) {
                    logToConsole(`æ‘„åƒæœºéœ‡åŠ¨å¯ç”¨å¤±è´¥: ${error.message}`, 'error');
                }
            } else {
                logToConsole('ç”µå½±çº§æ‘„åƒæœºç³»ç»Ÿæœªå¯ç”¨', 'warn');
            }
        }
        
        // ç²’å­å¯†åº¦è°ƒæ•´
        function adjustParticleDensity(factor) {
            if (window.oceanForest && window.oceanForest.advancedParticles) {
                try {
                    window.oceanForest.advancedParticles.adjustParticleDensity('bubbles', factor);
                    window.oceanForest.advancedParticles.adjustParticleDensity('plankton', factor);
                    logToConsole(`ç²’å­å¯†åº¦è°ƒæ•´ä¸º: ${factor}x`, 'success');
                } catch (error) {
                    logToConsole(`ç²’å­å¯†åº¦è°ƒæ•´å¤±è´¥: ${error.message}`, 'error');
                }
            } else {
                logToConsole('é«˜çº§ç²’å­ç³»ç»Ÿæœªå¯ç”¨', 'warn');
            }
        }
        
        // ç”Ÿç‰©è¡Œä¸ºæ§åˆ¶
        function enableSchooling() {
            logToConsole('é±¼ç¾¤è¡Œä¸ºå·²åœ¨AIç³»ç»Ÿä¸­è‡ªåŠ¨å¯ç”¨', 'info');
        }
        
        function enableHunting() {
            logToConsole('ç‹©çŒè¡Œä¸ºå·²åœ¨AIç³»ç»Ÿä¸­è‡ªåŠ¨å¯ç”¨', 'info');
        }
        
        function resetBehaviors() {
            logToConsole('è¡Œä¸ºç³»ç»Ÿé‡ç½®ï¼ˆè‡ªåŠ¨ç®¡ç†ï¼‰', 'info');
        }
        
        // æè´¨æ§åˆ¶
        function enablePhysicalMaterials() {
            logToConsole('ç‰©ç†æè´¨å·²åœ¨ä»£ç ä¸­è‡ªåŠ¨å¯ç”¨ï¼ˆå¦‚æœæ”¯æŒï¼‰', 'info');
        }
        
        function resetMaterials() {
            logToConsole('æè´¨é‡ç½®éœ€è¦é‡æ–°åŠ è½½é¡µé¢', 'warn');
        }
        
        // å…¶ä»–æ§åˆ¶å‡½æ•°çš„å ä½ç¬¦
        function toggleBubbles() { logToConsole('æ°”æ³¡æ•ˆæœåˆ‡æ¢', 'info'); }
        function togglePlankton() { logToConsole('ç”Ÿç‰©å‘å…‰åˆ‡æ¢', 'info'); }
        function toggleMarineSnow() { logToConsole('æµ·æ´‹é›ªèŠ±åˆ‡æ¢', 'info'); }
        
        // é¡µé¢åŠ è½½æ—¶æ£€æŸ¥çŠ¶æ€
        window.addEventListener('load', () => {
            setTimeout(checkSystemStatus, 1000);
        });
        
        // å®šæœŸæ›´æ–°çŠ¶æ€
        setInterval(checkSystemStatus, 5000);
    </script>
</body>
</html>